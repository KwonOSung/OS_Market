
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ìƒí’ˆ ê´€ë¦¬</title>
  <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #4a5568;
        background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
        min-height: 100vh;
    }

    /* Header Styles */
    header {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 1px 10px rgba(0, 0, 0, 0.05);
        padding: 1rem 2rem;
        position: sticky;
        top: 0;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: space-between;
        transition: all 0.3s ease;
    }

    .logo img {
        height: 50px;
        transition: transform 0.3s ease;
    }

    .logo img:hover {
        transform: scale(1.05);
    }

    .search-bar {
        flex: 1;
        max-width: 500px;
        margin: 0 2rem;
    }

    .search-bar form {
        display: flex;
        background: white;
        border-radius: 25px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
    }

    .search-bar form:hover {
        box-shadow: 0 3px 12px rgba(0, 0, 0, 0.1);
    }

    .search-bar input {
        flex: 1;
        padding: 12px 20px;
        border: none;
        outline: none;
        font-size: 14px;
        background: transparent;
        color: #4a5568;
    }

    .search-bar button {
        padding: 12px 20px;
        background: linear-gradient(45deg, #a0aec0, #718096);
        color: white;
        border: none;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.3s ease;
    }

    .search-bar button:hover {
        background: linear-gradient(45deg, #718096, #a0aec0);
    }

    .user-menu {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-wrap: wrap;
    }

    .user-menu span {
        font-weight: 600;
        color: #718096;
        margin-right: 8px;
        font-size: 14px;
    }

    .user-menu button {
        padding: 8px 16px;
        background: linear-gradient(45deg, #a0aec0, #718096);
        color: white;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        font-size: 12px;
        font-weight: 500;
        transition: all 0.3s ease;
    }

    .user-menu button:hover {
        background: linear-gradient(45deg, #718096, #a0aec0);
        transform: translateY(-1px);
    }

    .user-menu a {
        text-decoration: none;
    }

    /* Navigation Styles */
    nav {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(10px);
        padding: 0.8rem 2rem;
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        flex-wrap: wrap;
        box-shadow: 0 1px 5px rgba(0, 0, 0, 0.03);
    }

    nav a {
        text-decoration: none;
        color: #718096;
        font-weight: 500;
        padding: 8px 16px;
        border-radius: 15px;
        transition: all 0.3s ease;
        font-size: 14px;
    }

    nav a:hover {
        background: rgba(160, 174, 192, 0.1);
        color: #4a5568;
        transform: translateY(-1px);
    }

    /* Main Container */
    .container {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 0 2rem;
    }

    /* Page Header */
    .page-header {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        text-align: center;
        animation: fadeInUp 0.6s ease;
        border: 1px solid rgba(160, 174, 192, 0.1);
    }

    .page-header h1 {
        color: #2d3748;
        font-size: 2rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }

    .page-header p {
        color: #718096;
        font-size: 1rem;
    }

    /* Admin Badge */
    .admin-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: linear-gradient(45deg, #e6fffa, #b2f5ea);
        color: #234e52;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 500;
        margin-bottom: 1rem;
        border: 1px solid rgba(56, 178, 172, 0.2);
    }

    /* Message Styles */
    .message-container {
        margin-bottom: 2rem;
    }

    .message {
        padding: 1rem 1.5rem;
        border-radius: 10px;
        margin-bottom: 1rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        animation: slideDown 0.3s ease;
    }

    .success-message {
        background: rgba(72, 187, 120, 0.1);
        border: 1px solid rgba(72, 187, 120, 0.2);
        color: #2f855a;
    }

    .error-message {
        background: rgba(245, 101, 101, 0.1);
        border: 1px solid rgba(245, 101, 101, 0.2);
        color: #c53030;
    }

    /* Table Container */
    .table-container {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 1.5rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        margin-bottom: 2rem;
        animation: fadeInUp 0.6s ease;
        animation-delay: 0.2s;
        border: 1px solid rgba(160, 174, 192, 0.1);
        overflow-x: auto;
    }

    /* Table Styles */
    .products-table {
        width: 100%;
        border-collapse: collapse;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    }

    .products-table thead {
        background: linear-gradient(45deg, #e2e8f0, #cbd5e0);
        color: #2d3748;
    }

    .products-table th {
        padding: 1rem 1.5rem;
        font-weight: 600;
        text-align: left;
        font-size: 0.9rem;
        letter-spacing: 0.5px;
        border-bottom: 2px solid rgba(160, 174, 192, 0.1);
    }

    .products-table tbody tr {
        transition: all 0.3s ease;
        border-bottom: 1px solid rgba(0, 0, 0, 0.03);
    }

    .products-table tbody tr:hover {
        background: rgba(160, 174, 192, 0.05);
        transform: scale(1.005);
    }

    .products-table tbody tr:last-child {
        border-bottom: none;
    }

    .products-table td {
        padding: 1rem 1.5rem;
        font-size: 0.9rem;
        color: #4a5568;
    }

    /* Product ID */
    .product-id {
        font-weight: 600;
        color: #718096;
        font-family: 'Courier New', monospace;
    }

    /* Product Name */
    .product-name {
        font-weight: 500;
        color: #2d3748;
    }

    /* Price */
    .product-price {
        font-weight: 600;
        color: #38b2ac;
    }

    /* Edit Link */
    .edit-link {
        display: inline-flex;
        align-items: center;
        gap: 0.3rem;
        padding: 0.5rem 1rem;
        background: linear-gradient(45deg, #bee3f8, #90cdf4);
        color: #2b6cb0;
        text-decoration: none;
        border-radius: 15px;
        font-size: 0.85rem;
        font-weight: 500;
        transition: all 0.3s ease;
        border: 1px solid rgba(43, 108, 176, 0.2);
    }

    .edit-link:hover {
        background: linear-gradient(45deg, #90cdf4, #63b3ed);
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(43, 108, 176, 0.3);
    }

    /* Empty State */
    .empty-state {
        text-align: center;
        padding: 3rem;
        color: #718096;
    }

    .empty-state svg {
        width: 60px;
        height: 60px;
        fill: #cbd5e0;
        margin-bottom: 1rem;
    }

    .empty-state h3 {
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
        color: #4a5568;
    }

    .empty-state p {
        font-size: 0.9rem;
        line-height: 1.6;
    }

    /* Action Buttons */
    .action-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
        animation: fadeInUp 0.6s ease;
        animation-delay: 0.4s;
    }

    .action-button {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 12px 24px;
        background: linear-gradient(45deg, #a0aec0, #718096);
        color: white;
        text-decoration: none;
        border: none;
        border-radius: 20px;
        font-weight: 500;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .action-button:hover {
        background: linear-gradient(45deg, #718096, #a0aec0);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(113, 128, 150, 0.3);
    }

    .action-button.primary {
        background: linear-gradient(45deg, #4299e1, #3182ce);
    }

    .action-button.primary:hover {
        background: linear-gradient(45deg, #3182ce, #2c5282);
    }

    /* Stats Bar */
    .stats-bar {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        padding: 1rem 1.5rem;
        margin-bottom: 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        border: 1px solid rgba(160, 174, 192, 0.08);
        animation: fadeInUp 0.6s ease;
        animation-delay: 0.1s;
    }

    .stats-item {
        text-align: center;
    }

    .stats-number {
        font-size: 1.2rem;
        font-weight: 600;
        color: #2d3748;
        display: block;
    }

    .stats-label {
        font-size: 0.8rem;
        color: #718096;
    }

    .icon {
        width: 16px;
        height: 16px;
        fill: currentColor;
    }

    /* Animations */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        header {
            flex-direction: column;
            gap: 1rem;
            padding: 1rem;
        }

        .search-bar {
            margin: 0;
            max-width: 100%;
        }

        nav {
            padding: 0.8rem;
            gap: 1rem;
        }

        nav a {
            padding: 6px 12px;
            font-size: 13px;
        }

        .container {
            padding: 0 1rem;
        }

        .page-header {
            padding: 1.5rem;
        }

        .page-header h1 {
            font-size: 1.6rem;
        }

        .products-table th,
        .products-table td {
            padding: 0.8rem;
            font-size: 0.85rem;
        }

        .stats-bar {
            flex-direction: column;
            gap: 1rem;
        }

        .action-buttons {
            flex-direction: column;
            align-items: center;
        }
    }

    @media (max-width: 480px) {
        .user-menu {
            justify-content: center;
        }

        .user-menu button {
            padding: 6px 12px;
            font-size: 11px;
        }

        .page-header h1 {
            font-size: 1.4rem;
        }

        .table-container {
            padding: 1rem;
        }

        .products-table th,
        .products-table td {
            padding: 0.6rem;
            font-size: 0.8rem;
        }

        .edit-link {
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
        }
    }

    /* Focus styles for accessibility */
    a:focus,
    button:focus {
        outline: 2px solid #a0aec0;
        outline-offset: 2px;
    }

    /* Loading state */
    .loading {
        opacity: 0.6;
        pointer-events: none;
    }

    /* Search and Filter (for future use) */
    .filter-section {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        padding: 1rem 1.5rem;
        margin-bottom: 1.5rem;
        display: flex;
        gap: 1rem;
        align-items: center;
        flex-wrap: wrap;
        border: 1px solid rgba(160, 174, 192, 0.08);
    }

    .filter-section input,
    .filter-section select {
        padding: 8px 12px;
        border: 1px solid rgba(160, 174, 192, 0.3);
        border-radius: 8px;
        font-size: 14px;
        background: white;
        transition: all 0.3s ease;
    }

    .filter-section input:focus,
    .filter-section select:focus {
        outline: none;
        border-color: #a0aec0;
        box-shadow: 0 0 8px rgba(160, 174, 192, 0.2);
    }
  </style>
</head>
<body>

<header>
  <div class="logo">
    <a href="/"><img th:src="@{/images/logo.png}" alt="ë¡œê³ "></a>
  </div>

  <div class="search-bar">
    <form th:action="@{/product/search}" method="get" id="searchForm">
      <input type="text" name="keyword" placeholder="ìƒí’ˆì„ ê²€ìƒ‰í•˜ì„¸ìš”" id="searchInput">
      <button type="submit" id="searchBtn">ê²€ìƒ‰</button>
    </form>
  </div>

  <div class="user-menu">
    <div th:if="${#authorization.expression('isAuthenticated()')}">
      <span th:text="${#authentication.name}">ìœ ì €</span>ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!
      <a href="/mypage"><button>ë§ˆì´í˜ì´ì§€</button></a>
      <a href="/cart"><button>ì¥ë°”êµ¬ë‹ˆ</button></a>

      <!-- âœ… ê´€ë¦¬ì ì „ìš© ë²„íŠ¼ -->
      <div th:if="${#authorization.expression('hasRole(''ADMIN'')')}">
        <a href="/admin"><button>ê´€ë¦¬ì í˜ì´ì§€</button></a>
      </div>

      <a href="/logout"><button>ë¡œê·¸ì•„ì›ƒ</button></a>
    </div>

    <div th:if="${#authorization.expression('!isAuthenticated()')}">
      <a href="/login"><button>ë¡œê·¸ì¸</button></a>
      <a href="/insertMember"><button>íšŒì›ê°€ì…</button></a>
    </div>
  </div>
</header>

<nav>
  <a href="/">ì „ì²´ ìƒí’ˆ</a>
  <a href="/product/best">ë² ìŠ¤íŠ¸</a>
  <a href="/product/category?type=ì˜ë¥˜">ì˜ë¥˜</a>
  <a href="/product/category?type=ì „ì">ì „ìì œí’ˆ</a>
  <a href="/free">ììœ ê²Œì‹œíŒ</a>
  <a href="/">ìƒí’ˆ ë¦¬ë·° ê²Œì‹œíŒ</a>
</nav>

<div class="container">
  <div class="page-header">
    <div class="admin-badge">
      <svg class="icon" viewBox="0 0 24 24">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
      </svg>
      ê´€ë¦¬ì ê¶Œí•œ
    </div>
    <h1>ğŸ›ï¸ ìƒí’ˆ ëª©ë¡ ê´€ë¦¬</h1>
    <p>ë“±ë¡ëœ ìƒí’ˆì„ ì¡°íšŒí•˜ê³  ê´€ë¦¬í•˜ì„¸ìš”</p>
  </div>

  <!-- ë©”ì‹œì§€ í‘œì‹œ -->
  <div class="message-container">
    <div th:if="${message}" class="message success-message">
      <svg class="icon" viewBox="0 0 24 24">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
      </svg>
      <span th:text="${message}">ì„±ê³µ ë©”ì‹œì§€</span>
    </div>

    <div th:if="${error}" class="message error-message">
      <svg class="icon" viewBox="0 0 24 24">
        <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
      </svg>
      <span th:text="${error}">ì˜¤ë¥˜ ë©”ì‹œì§€</span>
    </div>
  </div>

  <!-- í†µê³„ ë°” -->
  <div class="stats-bar">
    <div class="stats-item">
      <span class="stats-number" id="totalProducts">0</span>
      <div class="stats-label">ì´ ìƒí’ˆ</div>
    </div>
    <div class="stats-item">
      <span class="stats-number" id="avgPrice">0</span>
      <div class="stats-label">í‰ê·  ê°€ê²©</div>
    </div>
    <div class="stats-item">
      <span class="stats-number" id="maxPrice">0</span>
      <div class="stats-label">ìµœê³  ê°€ê²©</div>
    </div>
  </div>

  <!-- ìƒí’ˆ í…Œì´ë¸” -->
  <div class="table-container">
    <table class="products-table" id="productsTable">
      <thead>
      <tr>
        <th>ID</th>
        <th>ì´ë¦„</th>
        <th>ê°€ê²©</th>
        <th>ìˆ˜ì •</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="p : ${products}">
        <td class="product-id" th:text="${p.id}">1</td>
        <td class="product-name" th:text="${p.productName}">ìƒí’ˆëª…</td>
        <td class="product-price" th:text="${p.price + 'ì›'}">10000ì›</td>
        <td>
          <a th:href="@{'/admin/products/' + ${p.id} + '/edit'}" class="edit-link">
            <svg class="icon" viewBox="0 0 24 24">
              <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
            </svg>
            ìˆ˜ì •
          </a>
        </td>
      </tr>
      </tbody>
    </table>

    <!-- ìƒí’ˆì´ ì—†ì„ ë•Œ -->
    <div class="empty-state" th:if="${#lists.isEmpty(products)}">
      <svg viewBox="0 0 24 24">
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
      </svg>
      <h3>ë“±ë¡ëœ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤</h3>
      <p>ìƒˆë¡œìš´ ìƒí’ˆì„ ë“±ë¡í•´ë³´ì„¸ìš”.</p>
    </div>
  </div>

  <!-- ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
  <div class="action-buttons">
    <a href="/admin/product/add" class="action-button primary">
      <svg class="icon" viewBox="0 0 24 24">
        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
      </svg>
      ìƒí’ˆ ë“±ë¡
    </a>

    <a href="/admin" class="action-button">
      <svg class="icon" viewBox="0 0 24 24">
        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
      </svg>
      ê´€ë¦¬ì í˜ì´ì§€
    </a>

    <a href="/" class="action-button">
      <svg class="icon" viewBox="0 0 24 24">
        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
      </svg>
      ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
    </a>
  </div>
</div>
</body>
</html>